(this["webpackJsonpreact.aniviks"]=this["webpackJsonpreact.aniviks"]||[]).push([[0],{153:function(e,t,n){},154:function(e,t,n){},161:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(44),r=n.n(c),s=(n(153),n(154),n(2)),o=n.n(s),l=n(5),j=n(18),d=n(50),u=n(79),b=n(22),h=n(20),O=(n(161),n(265)),x=n(268),m=n(246),p=n(267),g=n(266),f=n(258),v=n(257),k=n(254),w=n(256),y=n(123),C=n.n(y),N=n(122),S=n.n(N),D=n(59),L=n.n(D),A=n(85),q=Object(A.b)({name:"anilist",initialState:{user:"",anilist:[],anilikes:[],aninew:[],anime:[],loginDialog:!1,regDialog:!1,animeDialog:!1},reducers:{setUser:function(e,t){e.user=t.payload},getShikiApi:function(e,t){e.anilist=t.payload},getNew:function(e,t){e.aninew=t.payload},setLogin:function(e,t){e.loginDialog=t.payload},setReg:function(e,t){e.regDialog=t.payload},setAnime:function(e,t){e.anime=t.payload},setAnimeDialog:function(e,t){e.animeDialog=t.payload},setAnimeToList:function(e,t){e.anilikes.push(t.payload)}}}),W=q.actions,T=W.setUser,I=W.getShikiApi,E=W.getNew,B=W.setLogin,P=W.setReg,R=W.setAnimeDialog,z=W.setAnime,G=W.setAnimeToList,M=q.reducer,U=n(1),F=function(){var e=Object(h.c)((function(e){return e.anilist})),t=Object(h.c)((function(e){return e.anilist.anilikes})),n=Object(h.b)(),a=Object(i.useState)(1),c=Object(j.a)(a,2),r=c[0],s=c[1],o="https://shikimori.one/api/animes?page=".concat(r,"&limit=12&order=popularity");Object(i.useEffect)((function(){var e=L.a.CancelToken.source();return L.a.get(o,{cancelToken:e.token}).then((function(e){n(I(e.data))})).catch((function(e){console.log(e)})),e.cancel}),[o]);var l=Object(U.jsx)(w.a,{sx:{bgcolor:"#121212",p:8,width:"100%",display:"flex",justifyContent:"center"},children:Object(U.jsx)(k.a,{sx:{bgcolor:"grey.900"},variant:"rectangular",width:210,height:118})}),d=Object(i.useState)(!1),u=Object(j.a)(d,2),b=u[0],y=u[1],N=e.anilist.length<1?l:e.anilist.map((function(e){return Object(U.jsxs)(O.a,{sx:{maxWidth:200},className:"ani-card",children:[Object(U.jsx)(g.a,{component:"img",height:"140",image:"https://shikimori.one/"+e.image.preview.split("?")[0],alt:"green iguana"}),Object(U.jsxs)(p.a,{children:[Object(U.jsx)(v.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.name}),Object(U.jsxs)(v.a,{variant:"body2",color:"text.secondary",children:["Score: ",e.score]})]}),Object(U.jsxs)(x.a,{children:[Object(U.jsx)(f.a,{size:"small",onClick:function(){n(G(e)),y(!0),setTimeout((function(){y(!1)}),3e3)},children:t.find((function(t){return t.id===e.id}))?Object(U.jsx)(S.a,{}):Object(U.jsx)(C.a,{})}),Object(U.jsx)(f.a,{size:"small",onClick:function(){!function(e){var t=L.a.CancelToken.source(),i="https://shikimori.one/api/animes/".concat(e);L.a.get(i,{cancelToken:t.token}).then((function(e){n(z(e.data))})).catch((function(e){console.log(e)})),n(R(!0))}(e.id)},children:"Learn More"})]})]},e.id)}));return Object(U.jsxs)("section",{className:"anilist",children:[N," ",Object(U.jsx)(O.a,{sx:{maxWidth:150},className:"ani-card add",onClick:function(){return s(r>0?r-1:1)},children:Object(U.jsx)(p.a,{className:"add-item",children:" Prev page"})}),Object(U.jsx)(O.a,{sx:{maxWidth:150},className:"ani-card add",onClick:function(){return s(r+1)},children:Object(U.jsx)(p.a,{className:"add-item",children:" Next page"})}),b?Object(U.jsx)(m.a,{onClose:function(){y(!1)},in:!1,style:{position:"fixed",top:850},children:"Anime added to favorites list"}):Object(U.jsx)(U.Fragment,{})]})},J=(n(184),n(251)),_=n(272),K=n(271),V=function(e){var t=e.item;return Object(U.jsx)(O.a,{sx:{maxWidth:150,minWidth:150},onClick:function(){return window.open("https://shikimori.one"+t.url)},title:"Go to shikimori",children:Object(U.jsxs)(_.a,{children:[Object(U.jsx)(g.a,{component:"img",height:"140",image:"https://shikimori.one/"+t.image.preview.split("?")[0],alt:"green iguana"}),Object(U.jsxs)(p.a,{children:[Object(U.jsx)(v.a,{gutterBottom:!0,variant:"h5",component:"div",children:t.name}),Object(U.jsx)(v.a,{variant:"body2",color:"text.secondary",children:t.description})]})]})},t.id)},Z=function(){var e=Object(h.c)((function(e){return e.anilist.aninew})),t=Object(h.c)((function(e){return e.anilist.anilikes})),n=Object(h.c)((function(e){return e.anilist.user})),a=Object(h.b)(),c=Object(i.useState)("https://shikimori.one/api/animes?limit=20&order=aired_on"),r=Object(j.a)(c,2),s=r[0];r[1];Object(i.useEffect)((function(){var e=L.a.CancelToken.source();return L.a.get(s,{cancelToken:e.token}).then((function(e){a(E(e.data))})).catch((function(e){console.log(e)})),e.cancel}),[s]);var o=e.length>1?e.map((function(e){return Object(U.jsx)(J.a,{color:"secondary",badgeContent:"NEW",className:"bage",children:Object(U.jsx)(O.a,{sx:{maxWidth:200,minWidth:200},className:"ani-card",children:Object(U.jsxs)(_.a,{children:[Object(U.jsx)(g.a,{component:"img",height:"140",image:"https://shikimori.one/"+e.image.preview.split("?")[0],alt:"green iguana"}),Object(U.jsxs)(p.a,{children:[Object(U.jsx)(v.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.name}),Object(U.jsxs)(v.a,{variant:"body2",color:"text.secondary",children:["Score: ",e.score]})]})]})})},e.id)})):Object(U.jsx)("div",{children:"Kraiviks"}),l=Object(U.jsx)(w.a,{sx:{bgcolor:"#121212",p:8,width:"100%",display:"flex",justifyContent:"center"},children:Object(U.jsx)(k.a,{sx:{bgcolor:"grey.900"},variant:"rectangular",width:210,height:118})}),d=t.length<1?l:t.map((function(e){return Object(U.jsx)(V,{item:e})}));return Object(U.jsxs)("section",{className:"profile",children:[Object(U.jsx)(O.a,{sx:{maxWidth:345},className:"user",children:Object(U.jsxs)(_.a,{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",height:"100%"},children:[Object(U.jsx)(g.a,{component:"img",height:"140",image:"img/ava.jpg",alt:"green iguana"}),Object(U.jsxs)(p.a,{children:[Object(U.jsx)("h2",{className:"user-name",children:n.displayName}),Object(U.jsx)("div",{className:"user-age",children:"25"}),Object(U.jsx)("div",{className:"user-country",children:"Country: Ukraine"}),Object(U.jsx)("div",{className:"user-about",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Molestiae enim ea eveniet inventore ipsum dolorem deleniti nihil modi temporibus debitis. In aut eum, voluptatibus libero quia quae asperiores quas. Iure!"})]})]})}),Object(U.jsx)(K.a,{elevation:3,className:"user-box",children:Object(U.jsxs)(K.a,{elevation:3,style:{overflow:"hidden"},children:[Object(U.jsx)("h2",{children:"20 \u041d\u043e\u0432\u0438\u043d\u043e\u043a"}),Object(U.jsx)(K.a,{elevation:2,className:"new-anime",children:o})]})}),Object(U.jsxs)(K.a,{elevation:24,className:"tags",children:[Object(U.jsxs)("div",{className:"title user__likes-anime",children:["Likes anime: ",t.length]}),Object(U.jsx)("div",{className:"likes",children:d})]})]})},H=(n(185),function(){return Object(U.jsx)("div",{className:"logo",children:"React-AniViks"})}),X=(n(186),n(129)),Y=n(252),Q=(n(187),n(270)),$=n(269),ee=n(245),te=n(40);var ne=function(){var e=Object(h.c)((function(e){return e.anilist.loginDialog})),t=Object(h.b)(),n=function(){return t(B(!1))},a=Object(i.useState)(""),c=Object(j.a)(a,2),r=c[0],s=c[1],o=Object(i.useState)(""),l=Object(j.a)(o,2),d=l[0],u=l[1],b=Object(i.useState)(""),O=Object(j.a)(b,2),x=O[0],m=O[1];return Object(U.jsx)($.a,{onClose:n,open:e,className:"dialog",children:Object(U.jsxs)("div",{className:"dialog-wrapper",children:[Object(U.jsx)(Q.a,{children:"Auth"}),Object(U.jsx)(v.a,{component:"h1",variant:"h5",color:"red",children:x}),Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Object(te.b)();Object(te.d)(t,r,d).then((function(e){return n()})).catch((function(e){"auth/wrong-password"===e.code?m("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"):"auth/user-not-found"===e.code&&m("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}))},children:[Object(U.jsx)(ee.a,{required:!0,id:"outlined-required",label:"Email",onChange:function(e){return s(e.target.value)}}),Object(U.jsx)(ee.a,{id:"outlined-password-input",required:!0,label:"Password",type:"password",autoComplete:"current-password",onChange:function(e){return u(e.target.value)}}),Object(U.jsxs)("div",{className:"button-box",children:[Object(U.jsx)(f.a,{variant:"outlined",type:"submit",children:"Login"}),Object(U.jsx)(f.a,{variant:"contained",onClick:function(){t(B(!1)),t(P(!0))},children:"Registration"})]})]})]})})};n(189);var ie=function(){var e=Object(h.c)((function(e){return e.anilist.regDialog})),t=Object(h.b)(),n=function(){return t(P(!1))},a=Object(i.useState)(""),c=Object(j.a)(a,2),r=c[0],s=c[1],o=Object(i.useState)(""),l=Object(j.a)(o,2),d=l[0],u=l[1],b=Object(i.useState)(""),O=Object(j.a)(b,2),x=O[0],m=O[1],p=Object(i.useState)(""),g=Object(j.a)(p,2),k=g[0],w=g[1];return Object(U.jsx)($.a,{onClose:n,open:e,className:"dialog",children:Object(U.jsxs)("div",{className:"dialog-wrapper",children:[Object(U.jsx)(Q.a,{children:"Registration"}),Object(U.jsx)(v.a,{component:"h1",variant:"h5",color:"red",children:k}),Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Object(te.b)();Object(te.a)(t,r,d).then((function(e){Object(te.f)(t.currentUser,{displayName:x}).then((function(){console.log("\u0412\u0438 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c"),n()})).catch((function(e){console.log(e)}))})).catch((function(e){switch(e.code){case"auth/email-already-in-use":w("\u0422\u0430\u043a\u043e\u0439 email \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d");break;case"auth/invalid-email":w("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 email");break;case"auth/weak-password":w("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0441\u043b\u0430\u0431\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c");break;default:w(e.code)}}))},children:[Object(U.jsx)(ee.a,{required:!0,id:"outlined-required",label:"Login",onChange:function(e){return m(e.target.value)}}),Object(U.jsx)(ee.a,{required:!0,id:"outlined-required",label:"Email",onChange:function(e){return s(e.target.value)}}),Object(U.jsx)(ee.a,{id:"outlined-password-input",required:!0,label:"Password",type:"password",autoComplete:"current-password",onChange:function(e){return u(e.target.value)}}),Object(U.jsx)(ee.a,{id:"outlined-password-input",required:!0,label:"Password",type:"password",autoComplete:"current-password"}),Object(U.jsx)("div",{className:"button-box",children:Object(U.jsx)(f.a,{variant:"contained",type:"submit",children:"Registration"})})]})]})})};n(190);var ae=function(){var e=Object(h.c)((function(e){return e.anilist.anime})),t=Object(h.c)((function(e){return e.anilist.animeDialog})),n=Object(h.b)();return Object(U.jsx)($.a,{onClose:function(){return n(R(!1))},open:t,children:Object(U.jsxs)("div",{className:"dialog-wrapper",children:[Object(U.jsxs)(Q.a,{children:[e.name,Object(U.jsx)("br",{}),e.russian]}),Object(U.jsx)("p",{children:e.description})]})})},ce=n(6),re=n(37),se=n(253),oe=n(244),le=n(261),je=n(262),de=n(260),ue=n(263),be=n(259),he=n(124),Oe=n.n(he),xe=n(125),me=n.n(xe),pe=n(126),ge=n.n(pe),fe=n(249),ve=n(264),ke=240,we=Object(ce.a)("main",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(d.a)({flexGrow:1,padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(ke,"px")},n&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0})})),ye=Object(ce.a)(le.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(d.a)({transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{width:"calc(100% - ".concat(ke,"px)"),marginLeft:"".concat(ke,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})})})),Ce=Object(ce.a)("div")((function(e){var t=e.theme;return Object(d.a)(Object(d.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-end"})})),Ne=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.anilist.user})),n=Object(i.useState)(!0),c=Object(j.a)(n,2),r=c[0],s=c[1],O=r?"dark":"light",x=Object(X.a)({palette:{mode:O}}),m=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(te.b)(),t.next=3,Object(te.c)(n,(function(t){if(!t)return null;e(T(t))}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){m()}),[]);var p=Object(re.a)(),g=a.a.useState(!1),k=Object(j.a)(g,2),y=k[0],C=k[1],N=function(){C(!1)},S=Object(h.c)((function(e){return e.anilist.user}));return Object(U.jsx)(Y.a,{theme:x,children:Object(U.jsxs)("div",{className:"app",children:[Object(U.jsxs)(w.a,{sx:{display:"flex"},children:[Object(U.jsx)(oe.a,{}),Object(U.jsx)(ye,{position:"fixed",open:y,children:Object(U.jsxs)(je.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(U.jsxs)(be.a,{color:"inherit","aria-label":"open drawer",onClick:function(){C(!0)},edge:"start",sx:Object(d.a)({mr:2},y&&{display:"none"}),children:[Object(U.jsx)(Oe.a,{}),Object(U.jsx)(v.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"AniViks"})]}),S?"\u0412\u044b \u0432\u043e\u0448\u043b\u0438":null]})}),Object(U.jsxs)(se.a,{sx:{width:ke,flexShrink:0,"& .MuiDrawer-paper":{width:ke,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:y,children:[Object(U.jsxs)(Ce,{children:[Object(U.jsx)(be.a,{onClick:N,children:"ltr"===p.direction?Object(U.jsx)(me.a,{}):Object(U.jsx)(ge.a,{})}),Object(U.jsx)(v.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:Object(U.jsx)(H,{})})]}),Object(U.jsx)(ue.a,{}),Object(U.jsxs)(de.a,{children:[Object(U.jsx)(fe.a,{button:!0,children:Object(U.jsx)(ve.a,{component:u.b,underline:"none",to:"/react-aniviks/",style:{width:"100%",padding:20,textAlign:"center"},onClick:N,children:"\u041f\u0440\u043e\u0444\u0456\u043b\u044c"})}),Object(U.jsx)(fe.a,{button:!0,children:Object(U.jsx)(ve.a,{component:u.b,underline:"none",to:"/react-aniviks/anilist",style:{width:"100%",padding:20,textAlign:"center"},onClick:N,children:"\u0421\u043f\u0438\u0441\u043e\u043a"})})]}),Object(U.jsx)(ue.a,{}),Object(U.jsxs)(de.a,{children:[Object(U.jsx)(fe.a,{button:!0,children:S?Object(U.jsx)(f.a,{onClick:function(){var t=Object(te.b)();Object(te.e)(t).then((function(){e(T(""))})).catch((function(e){}))},style:{width:"100%"},children:"Logout"}):Object(U.jsx)(f.a,{style:{width:"100%"},color:"inherit",onClick:function(){return e(B(!0))},children:"Login"})}),Object(U.jsx)(fe.a,{children:Object(U.jsx)(f.a,{style:{marginLeft:"30px"},variant:"outlined",color:"error",onClick:function(){s(!r)},children:"Change theme"})})]})]}),Object(U.jsxs)(we,{open:y,onClick:N,children:[Object(U.jsx)(Ce,{}),t?Object(U.jsxs)(b.d,{children:[Object(U.jsx)(b.b,{exact:!0,path:"/react-aniviks/",children:Object(U.jsx)(Z,{})}),Object(U.jsx)(b.b,{exact:!0,path:"/react-aniviks/anilist",children:Object(U.jsx)(F,{})}),Object(U.jsx)(b.a,{to:"/react-aniviks/"})]}):Object(U.jsx)("h2",{children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0438\u043b\u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"})]})]}),Object(U.jsx)(ne,{}),Object(U.jsx)(ie,{}),Object(U.jsx)(ae,{})]})})},Se=Object(A.a)({reducer:{anilist:M},middleware:function(e){return e({serializableCheck:!1})}}),De=n(128);Object(De.a)({apiKey:"AIzaSyBH1WNLZd6iXoY0J0Nbb-CsGnWmMe9Zeks",authDomain:"react-aniviks.firebaseapp.com",projectId:"react-aniviks",storageBucket:"react-aniviks.appspot.com",messagingSenderId:"404152030864",appId:"1:404152030864:web:f506fd4de2928332bd2a15"}),r.a.render(Object(U.jsx)(a.a.StrictMode,{children:Object(U.jsx)(h.a,{store:Se,children:Object(U.jsx)(u.a,{children:Object(U.jsx)(Ne,{})})})}),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.2d334520.chunk.js.map